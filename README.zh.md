# NeoMind

> **è¾¹ç¼˜éƒ¨ç½²çš„ LLM æ™ºèƒ½ä½“ç‰©è”ç½‘è‡ªåŠ¨åŒ–å¹³å°**

NeoMind æ˜¯ä¸€ä¸ªåŸºäº Rust çš„è¾¹ç¼˜ AI å¹³å°ï¼Œé€šè¿‡å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å®ç°è‡ªä¸»è®¾å¤‡ç®¡ç†å’Œè‡ªåŠ¨åŒ–å†³ç­–ã€‚

[![æ„å»ºå‘å¸ƒ](https://github.com/camthink-ai/NeoMind/actions/workflows/build.yml/badge.svg)](https://github.com/camthink-ai/NeoMind/actions/workflows/build.yml)
[![è®¸å¯è¯: MIT OR Apache-2.0](https://img.shields.io/badge/License-MIT%20OR%20Apache--2.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)

## æ ¸å¿ƒç‰¹æ€§

### ğŸ§  LLM ä½œä¸ºç³»ç»Ÿå¤§è„‘
- **äº¤äº’å¼å¯¹è¯**: è‡ªç„¶è¯­è¨€ç•Œé¢æŸ¥è¯¢å’Œæ§åˆ¶è®¾å¤‡
- **è‡ªä¸»å†³ç­–**: å®šæœŸæ•°æ®åˆ†æï¼Œä¸»åŠ¨æä¾›ä¼˜åŒ–å»ºè®®
- **å·¥å…·è°ƒç”¨**: é€šè¿‡ LLM å‡½æ•°è°ƒç”¨æ‰§è¡ŒçœŸå®çš„ç³»ç»Ÿæ“ä½œ

### ğŸ”Œ æ¨¡å—åŒ–è®¾å¤‡æ¥å…¥
- **å¤šåè®®æ”¯æŒ**: MQTTã€Modbusã€Home Assistant
- **è®¾å¤‡å‘ç°**: è‡ªåŠ¨æ£€æµ‹è®¾å¤‡å¹¶æ³¨å†Œç±»å‹
- **çƒ­æ’æ‹”**: è¿è¡Œæ—¶é€šè¿‡æ’ä»¶ç³»ç»ŸåŠ¨æ€åŠ è½½/å¸è½½é€‚é…å™¨

### âš¡ äº‹ä»¶é©±åŠ¨æ¶æ„
- **å®æ—¶å“åº”**: è®¾å¤‡å˜åŒ–è‡ªåŠ¨è§¦å‘è§„åˆ™å’Œè‡ªåŠ¨åŒ–
- **è§£è€¦è®¾è®¡**: æ‰€æœ‰ç»„ä»¶é€šè¿‡äº‹ä»¶æ€»çº¿é€šä¿¡
- **å¤šä¼ è¾“æ–¹å¼**: REST APIã€WebSocketã€SSE

### ğŸ“¦ å®Œæ•´çš„å­˜å‚¨ç³»ç»Ÿ
- **æ—¶åºæ•°æ®**: è®¾å¤‡æŒ‡æ ‡å†å²å­˜å‚¨å’ŒæŸ¥è¯¢ï¼ˆredbï¼‰
- **çŠ¶æ€å­˜å‚¨**: è®¾å¤‡çŠ¶æ€ã€è‡ªåŠ¨åŒ–æ‰§è¡Œè®°å½•
- **LLM è®°å¿†**: ä¸‰å±‚è®°å¿†ï¼ˆçŸ­æœŸ/ä¸­æœŸ/é•¿æœŸï¼‰
- **å‘é‡æ£€ç´¢**: è¯­ä¹‰æœç´¢è®¾å¤‡å’Œè§„åˆ™

### ğŸ–¥ï¸ æ¡Œé¢åº”ç”¨
- **è·¨å¹³å°**: macOSã€Windowsã€Linux åŸç”Ÿåº”ç”¨
- **ç°ä»£ UI**: React 18 + TypeScript + Tailwind CSS
- **ç³»ç»Ÿæ‰˜ç›˜**: åå°è¿è¡Œï¼Œå¿«é€Ÿè®¿é—®
- **è‡ªåŠ¨æ›´æ–°**: å†…ç½®æ›´æ–°é€šçŸ¥

## å¿«é€Ÿå¼€å§‹

### æ¡Œé¢åº”ç”¨ï¼ˆæ¨èï¼‰

ä» [å‘å¸ƒé¡µé¢](https://github.com/camthink-ai/NeoMind/releases/latest) ä¸‹è½½é€‚åˆæ‚¨å¹³å°çš„æœ€æ–°ç‰ˆæœ¬ã€‚

é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œè®¾ç½®å‘å¯¼å°†å¼•å¯¼æ‚¨å®Œæˆï¼š
1. åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·
2. é…ç½® LLM åç«¯ï¼ˆæ¨èä½¿ç”¨ Ollama è¿›è¡Œè¾¹ç¼˜éƒ¨ç½²ï¼‰

### å¼€å‘æ¨¡å¼

#### ç¯å¢ƒè¦æ±‚

- Rust 1.85+
- Node.js 20+
- Ollamaï¼ˆæœ¬åœ° LLMï¼‰æˆ– OpenAI API

#### 1. å®‰è£… Ollama

```bash
# Linux/macOS
curl -fsSL https://ollama.com/install.sh | sh

# æ‹‰å–è½»é‡çº§æ¨¡å‹
ollama pull qwen3-vl:2b
```

#### 2. å¯åŠ¨åç«¯

```bash
# æ„å»ºå¹¶è¿è¡Œ API æœåŠ¡å™¨
cargo run -p edge-ai-api
```

#### 3. å¯åŠ¨å‰ç«¯

```bash
cd web
npm install
npm run dev
```

#### 4. è®¿é—® Web UI

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:5173

### æ„å»ºæ¡Œé¢åº”ç”¨

```bash
cd web
npm install
npm run tauri:build
```

å®‰è£…ç¨‹åºå°†åœ¨ `web/src-tauri/target/release/bundle/` ç›®å½•ä¸­

## é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `config.minimal.toml` | æœ€å°é…ç½®ï¼Œå¿«é€Ÿå¼€å§‹ |
| `config.full.toml` | å®Œæ•´é…ç½®ï¼Œæ‰€æœ‰é€‰é¡¹ |
| `config.example.toml` | æ ‡å‡†é…ç½®æ¨¡æ¿ |

### LLM åç«¯æ”¯æŒ

| åç«¯ | ç‰¹æ€§æ ‡å¿— | é»˜è®¤ç«¯ç‚¹ |
|------|---------|---------|
| Ollama | `ollama` | `http://localhost:11434` |
| OpenAI | `openai` | `https://api.openai.com/v1` |
| Anthropic | `anthropic` | `https://api.anthropic.com/v1` |
| Google | `google` | `https://generativelanguage.googleapis.com/v1beta` |
| xAI | `xai` | `https://api.x.ai/v1` |

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ¡Œé¢åº”ç”¨ / Web ç•Œé¢                         â”‚
â”‚                    React + TypeScript                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ REST API / WebSocket / SSE
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API ç½‘å…³                                 â”‚
â”‚                    Axum Web æœåŠ¡å™¨                           â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚              â”‚              â”‚
   â–¼              â–¼              â–¼
è‡ªåŠ¨åŒ–          è®¾å¤‡ç®¡ç†       æ¶ˆæ¯é€šçŸ¥
   â”‚              â”‚              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ è®¢é˜…æ‰€æœ‰äº‹ä»¶
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LLM æ™ºèƒ½ä½“                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   å¯¹è¯      â”‚  â”‚   å·¥å…·      â”‚  â”‚  è®°å¿†       â”‚        â”‚
â”‚  â”‚  æ¥å£       â”‚  â”‚  è°ƒç”¨       â”‚  â”‚  ç³»ç»Ÿ       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é¡¹ç›®ç»“æ„

```
neomind/
â”œâ”€â”€ crates/
â”‚   â”œâ”€â”€ core/          # æ ¸å¿ƒ traits å’Œç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ llm/           # LLM è¿è¡Œæ—¶ï¼ˆOllama/OpenAI/Anthropicï¼‰
â”‚   â”œâ”€â”€ api/           # Web API æœåŠ¡å™¨ï¼ˆAxumï¼‰
â”‚   â”œâ”€â”€ agent/         # AI æ™ºèƒ½ä½“ä¸å·¥å…·è°ƒç”¨
â”‚   â”œâ”€â”€ automation/    # ç»Ÿä¸€è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼ˆè§„åˆ™ + è½¬æ¢ï¼‰
â”‚   â”œâ”€â”€ devices/       # è®¾å¤‡ç®¡ç†ï¼ˆMQTT/Modbus/HASSï¼‰
â”‚   â”œâ”€â”€ rules/         # è§„åˆ™å¼•æ“å’Œ DSL è§£æå™¨
â”‚   â”œâ”€â”€ storage/       # å­˜å‚¨ç³»ç»Ÿï¼ˆredbï¼‰
â”‚   â”œâ”€â”€ memory/        # LLM ä¸‰å±‚è®°å¿†
â”‚   â”œâ”€â”€ messages/      # ç»Ÿä¸€æ¶ˆæ¯å’Œé€šçŸ¥
â”‚   â”œâ”€â”€ tools/         # å‡½æ•°è°ƒç”¨æ¡†æ¶
â”‚   â”œâ”€â”€ commands/      # å‘½ä»¤é˜Ÿåˆ—ï¼ˆå¸¦é‡è¯•ï¼‰
â”‚   â”œâ”€â”€ integrations/  # å¤–éƒ¨ç³»ç»Ÿé›†æˆ
â”‚   â”œâ”€â”€ sandbox/       # WASM æ²™ç®±å®‰å…¨æ‰§è¡Œ
â”‚   â”œâ”€â”€ cli/           # å‘½ä»¤è¡Œæ¥å£
â”‚   â”œâ”€â”€ plugin-sdk/    # æ’ä»¶å¼€å‘ SDK
â”‚   â””â”€â”€ testing/       # æµ‹è¯•å·¥å…·
â”œâ”€â”€ web/               # React å‰ç«¯ + Tauri æ¡Œé¢åº”ç”¨
â”‚   â”œâ”€â”€ src/           # TypeScript æºç 
â”‚   â””â”€â”€ src-tauri/     # æ¡Œé¢åº”ç”¨ Rust åç«¯
â”œâ”€â”€ docs/              # æ–‡æ¡£
â””â”€â”€ config.*.toml      # é…ç½®æ–‡ä»¶
```

## æŠ€æœ¯æ ˆ

### åç«¯
- **è¯­è¨€**: Rust 2024
- **å¼‚æ­¥è¿è¡Œæ—¶**: Tokio
- **Web æ¡†æ¶**: Axum
- **å­˜å‚¨**: redbï¼ˆåµŒå…¥å¼é”®å€¼æ•°æ®åº“ï¼‰
- **åºåˆ—åŒ–**: serde / serde_json
- **æ—¥å¿—**: tracing

### å‰ç«¯
- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»º**: Vite
- **UI**: Tailwind CSS + Radix UI
- **æ¡Œé¢**: Tauri 2.x
- **çŠ¶æ€ç®¡ç†**: Zustand

## API ç«¯ç‚¹

| åˆ†ç±» | ç«¯ç‚¹ |
|------|------|
| **å¥åº·æ£€æŸ¥** | `/api/health`, `/api/health/status`, `/api/health/live`, `/api/health/ready` |
| **è®¤è¯** | `/api/auth/login`, `/api/auth/register`, `/api/auth/status` |
| **è®¾ç½®** | `/api/setup/status`, `/api/setup/initialize`, `/api/setup/llm-config` |
| **è®¾å¤‡** | `/api/devices`, `/api/devices/:id`, `/api/devices/discover` |
| **è®¾å¤‡ç±»å‹** | `/api/device-types`, `/api/device-types/:id` |
| **è‡ªåŠ¨åŒ–** | `/api/automations`, `/api/automations/:id`, `/api/automations/templates` |
| **è§„åˆ™** | `/api/rules`, `/api/rules/:id`, `/api/rules/:id/test` |
| **è½¬æ¢** | `/api/transforms`, `/api/transforms/:id` |
| **ä¼šè¯** | `/api/sessions`, `/api/sessions/:id`, `/api/sessions/:id/chat` |
| **å¯¹è¯** | `/api/chat` (WebSocket) |
| **LLM åç«¯** | `/api/llm-backends`, `/api/llm-backends/:id`, `/api/llm-backends/types` |
| **Ollama æ¨¡å‹** | `/api/llm-backends/ollama/models` |
| **è®°å¿†** | `/api/memory/*` (è®°å¿†æ“ä½œ) |
| **å·¥å…·** | `/api/tools`, `/api/tools/:name/execute` |
| **æ¶ˆæ¯** | `/api/messages`, `/api/messages/:id`, `/api/messages/channels` |
| **æ‰©å±•** | `/api/extensions` (åŠ¨æ€æ’ä»¶) |
| **äº‹ä»¶** | `/api/events/stream` (SSE), `/api/events/ws` (WebSocket) |
| **ç»Ÿè®¡** | `/api/stats/system`, `/api/stats/devices`, `/api/stats/rules` |
| **æœç´¢** | `/api/search` |

## ä½¿ç”¨ç¤ºä¾‹

### æŸ¥è¯¢è®¾å¤‡çŠ¶æ€

```
ç”¨æˆ·: ä»Šå¤©å®¶é‡Œæ¸©åº¦æ€ä¹ˆæ ·ï¼Ÿ
LLM: å®¢å…å½“å‰æ¸©åº¦ 26Â°Cï¼Œå§å®¤ 24Â°Cã€‚
     å…¨å¤©å¹³å‡æ¸©åº¦ 25.3Â°Cï¼Œæœ€é«˜ 28Â°Cï¼ˆä¸‹åˆ 3 ç‚¹ï¼‰ã€‚
```

### åˆ›å»ºè‡ªåŠ¨åŒ–è§„åˆ™

```
ç”¨æˆ·: å½“æ¸©åº¦è¶…è¿‡ 30 åº¦æ—¶å¸®æˆ‘å¼€ç©ºè°ƒ
LLM: å¥½çš„ï¼Œæˆ‘åˆ›å»ºäº†ä¸€æ¡è§„åˆ™ï¼š
     "å½“å®¢å…æ¸©åº¦ > 30Â°C æŒç»­ 5 åˆ†é’Ÿæ—¶ï¼Œæ‰“å¼€ç©ºè°ƒå¹¶è®¾ç½®ä¸º 26Â°C"
     ç¡®è®¤åˆ›å»ºå—ï¼Ÿ
```

### ä¸»åŠ¨ä¼˜åŒ–å»ºè®®

```
LLM: [é€šçŸ¥] æˆ‘æ³¨æ„åˆ°æ‚¨çš„ç©ºè°ƒåœ¨å¤œé—´é¢‘ç¹å¯åœã€‚
     å»ºè®®ï¼šå°†æ¸©åº¦è®¾å®šå€¼ä» 24Â°C è°ƒæ•´åˆ° 26Â°Cï¼Œ
     å¯ä»¥èŠ‚çœçº¦ 20% çš„ç”µåŠ›ã€‚éœ€è¦æˆ‘å¸®æ‚¨è°ƒæ•´å—ï¼Ÿ
```

## æ ¸å¿ƒæ¦‚å¿µ

### è®¾å¤‡ç±»å‹å®šä¹‰

è®¾å¤‡ç±»å‹å®šä¹‰å¯ç”¨çš„æŒ‡æ ‡å’Œå‘½ä»¤ï¼š

```json
{
  "type_id": "temperature_sensor",
  "name": "æ¸©åº¦ä¼ æ„Ÿå™¨",
  "uplink": [
    { "name": "temperature", "type": "float", "unit": "Â°C" }
  ],
  "downlink": []
}
```

### DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰

äººç±»å¯è¯»çš„è‡ªåŠ¨åŒ–è§„åˆ™è¯­è¨€ï¼š

```
RULE "é«˜æ¸©è‡ªåŠ¨å¼€ç©ºè°ƒ"
WHEN device("living_room").temperature > 30
FOR 5m
DO
  device("ac").power_on()
  device("ac").set_temperature(26)
END
```

### è‡ªç„¶è¯­è¨€è½¬è‡ªåŠ¨åŒ–

å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„è‡ªåŠ¨åŒ–ï¼š

```
"å½“å®¢å…æ¸©åº¦è¶…è¿‡ 30 åº¦æ—¶æ‰“å¼€ç©ºè°ƒ"
    â†“
[æ„å›¾è¯†åˆ« â†’ è®¾å¤‡åŒ¹é… â†’ åŠ¨ä½œç”Ÿæˆ â†’ è§„åˆ™åˆ›å»º]
    â†“
å¯æ‰§è¡Œçš„è‡ªåŠ¨åŒ–è§„åˆ™
```

## æ•°æ®ç›®å½•

æ¡Œé¢åº”ç”¨æ•°æ®å­˜å‚¨åœ¨å„å¹³å°çš„æ ‡å‡†ä½ç½®ï¼š

| å¹³å° | æ•°æ®ç›®å½• |
|------|---------|
| macOS | `~/Library/Application Support/neomind/data/` |
| Windows | `%APPDATA%/neomind/data/` |
| Linux | `~/.config/neomind/data/` |

## å¼€å‘å‘½ä»¤

```bash
# æ„å»ºå·¥ä½œåŒº
cargo build

# æ„å»ºä¼˜åŒ–ç‰ˆæœ¬
cargo build --release

# è¿è¡Œæµ‹è¯•
cargo test

# è¿è¡Œç‰¹å®š crate çš„æµ‹è¯•
cargo test -p edge-ai-agent
cargo test -p edge-ai-llm
cargo test -p edge-ai-core
cargo test -p edge-ai-api

# æ£€æŸ¥ç¼–è¯‘ä¸æ„å»º
cargo check

# æ ¼å¼åŒ–ä»£ç 
cargo fmt

# ä»£ç æ£€æŸ¥
cargo clippy

# è¿è¡Œ API æœåŠ¡å™¨ï¼ˆé»˜è®¤ç«¯å£ 3000ï¼‰
cargo run -p edge-ai-api

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®è¿è¡Œ
cargo run -p edge-ai-api -- --config path/to/config.toml
```

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

## è®¸å¯è¯

MIT OR Apache-2.0

---

**[æ–‡æ¡£](docs/README.md)** | **[æ¶æ„è®¾è®¡](docs/ARCHITECTURE.md)** | **[å‘å¸ƒç‰ˆæœ¬](https://github.com/camthink-ai/NeoMind/releases)**
